
kubectl api-resources #показывает ресурсы куба
kubectl api-resources | head
kubectl get pod   [po]
kubectl get nodes [no]


CNI plugin отвечает за сеть подов
#pod не хранят никакой статической инфы

services plugin = kybe-proxy #отвечает за статический ip для софта
load balancer #отвечает за трафик и отправляет на service plugin

CNI plugin #можно менять
#замена плагина, происходит путём удаления старого плагина
#вычистить всю конфигируцию которую он создал, запустить новый плагин
#удалить все поды и запустить их заново

podCIDR # ренж адресов на ноду
#менять можно остановив conroller-manager
#скачать объект ноды, удаляем podCIDR и обратно заливаем в кластер

можно добавлять ipv6 # прописать основным компонентам кластера ренж ипв6

kube-proxe (iptables) # можно менять
#стопаем на каждой ноде и запускаем новый куб прокси
kube-proxy --cleanup #удаляет все правила

CSI-controller # сторадж
storageClass # описывает параметры сторадж

CRI # контейнер рантайм
смена CRI
/etc/crictl.yaml # меня тут сокет на контейнерД
systemctl restart containerd kubelet
Helm #— системы управления пакетами Kubernetes
#----------------------------------------------
$ kompose convert #создаёт файлы манифесты kubernetes на основе имебщихся 
$ rm docker-compose.yaml # после конвертации можно удалить файлы докер


У kubelet-а есть 3 основных способа проверки:

ExecAction - выполнение команды внутри контейнера. Если команда завершилась с кодом 0, то проверка считается успешной
HTTPGetAction - выполнение http запроса по определенному порту и урлу. Если http статус код ответа больше или равен 200 и меньше 400, то тогда проверка считается успешно пройденной
TCPSocketAction - выполнение tcp запроса по определенному порту. Если порт открыт, то проверка считается успешно пройденной


