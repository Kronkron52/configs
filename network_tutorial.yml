#-------------------------
Network introduction

ping
    -4 #
    -6 # версия протокола 
    -c 3 # количество проб  
    -s 1400 байт # размер пакета
    -D # таймстемп 
    -I ens0 # интерфейс
    -O # печатать ответ 
    -i 0.2 # частота запросов
    -f # отправляет запросы с той скоростью, с какой может 
    -a # пинг со звуком
#-------------------------
traceroute/tracepath/mtr
traceroute  опции адрес_узла
  -4 или -6 - использовать ipv4 или ipv6 протокол;
  -I - использовать ICMP пакеты вместо UDP;
  -T - использовать TCP пакеты вместо UDP;
  -F - не фрагментировать пакеты;
  -f - указать TTL с которого нужно начать;
  -g - передавать пакет через указанный шлюз;
  -i - передавать пакет через указанный интерфейс;
  -m - максимальное количество узлов, через которые пройдет пакет;
  -q - количество пакетов, отправляемых за раз, по умолчанию три;
  -n - не узнавать доменные имена;
  -p - указать порт вместо порта по умолчанию;
  -w - установить время ожидания ответа от узла, по умолчанию полсекунды;
  -r - использовать другой роутер вместо того, что указанный в таблице маршрутизации;
  -z - минимальный интервал между пакетами;
  -U - использовать UDP с увеличением номера порта;
  -UL - использовать протокол UDPLITE;
  -D - использовать протокол DCCP;
  --mtu - указать размер пакета;
  -P - протокол, доступны такие значения: raw, dccp, udplite, udp, tcpconn, tcp, icmp.
#-------------------------
$ mtr опции адрес_узла
  -c <число> - Количество циклов проверки (количество отправленных пакетов по сути);
  -r - Режим отчета. Программа выполнит указанное при помощи параметра -c количество циклов, выведет отчет и завершит свою работу;
  -w - Режим расширенного отчета. Результат такой же, как и при использовании опции -r, но длинные имена хостов обрезаться не будут;
  -s <количество-байт> - Установить размер пакетов для отправки; 
  -n - Не использовать DNS для разрешения имен хостов и отображать вместо них IP-адреса;
  -o «список-полей» -	Отображать только указанные поля и в таком порядке, в котором они были указаны;
  -p - Выводить информацию построчно, без перерисовки экрана, с разделением полей пробелом. Этот формат удобен, если вы используете какую-то дополнительную программу-парсер или скрипт для анализа, которому передаются данные.
  -a <IP-адрес> -	Указать адрес интерфейса, с которого будут отправляться пакеты;
  -i <число-секунд> - Интервал между отправляемыми запросами;
  -u	Использовать протокол UDP для отправки пакетов;
  -4	Использовать только IPv4;
  -6	Использовать только IPv6.       
#-------------------------
tcpdump
 -i # интерфейс 
 -v/vv/vvv
 -host
 -port
 -ip/upd/tcp/icmp/icmp6/proto N #фильтр по протоколу 
 -and/or/not # операнды в фильтрах 
 -w # сохранить дамп в файл 
 #-------------------------
ip link/ip l
ip neighbor swhow # показать соседей 
ip link set dev ens4 down # потушить интерфейс 

ip -4 address show 
ip route 
ip -6 -j route show default | jq # вывести в json 

#-------------------------
sudo ip address add 192.168.1.1 dev ens3 # добавить адрес на интерфейс 

sudo ip -6 route delete default 

sudo ip -6 route add default via 192.155.23.32 dev ens3 

netplan generate # проверят синтаксис конфига сети в убунту
netplan apply # применить конфигурацию 
sudo netplan try # потдвердить операцию, если нет то откатит обратно 

































